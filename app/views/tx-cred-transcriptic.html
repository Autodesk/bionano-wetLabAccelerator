<div class="column-wrap column-16 div-centered">
  <div class="column-8 div-centered">
    <h4 class="thin">Transcriptic Account</h4>

    <div ng-show="authForm.$valid && authCtrl.credValid">
      <p class="text-sm">
        <span ng-hide="authCtrl.validating"
              ng-click="authCtrl.showAuth = !authCtrl.showAuth">
          Your Transcriptic credentials are valid.
        </span>
        <a class="action-text" ng-click="authCtrl.forgetCreds()">
          Forget my Transcriptic account information
        </a>
      </p>
    </div>

    <div ng-show="authCtrl.validating && authCtrl.credValid !== false">
      <p class="text-sm" ng-click="authCtrl.showAuth = !authCtrl.showAuth">Validating your credentials...</p>
    </div>

    <div ng-show="authCtrl.credValid === false && authForm.$valid">
      <p ng-show="!authCtrl.validating" class="text-sm text-warning">Your credentials are not validating with Transcriptic. Be sure you have entered them correctly.</p>
      <p ng-show="!authCtrl.allowAuthSaved" class="text-sm text-warning">Transcriptic information cannot be verified until grant Autodesk the ability to use your credentials.</p>
    </div>

    <div ng-show="authForm.$invalid || authCtrl.credValid === false || authCtrl.showAuth">
      <p class="text-sm">Protocols are verified and Run at Transcriptic, Inc. Creating a Transcriptic account is free. An estimate of costs will be displayed prior to running a protocol.
        <a class="action-text" href="https://secure.transcriptic.com/users/sign_up" target="_blank">I don't have a
          Transcriptic Account.</a>
      </p>
    </div>
  </div>

  <form name="authForm" ng-show="authForm.$invalid || authCtrl.credValid === false || authCtrl.showAuth">
    <div class="metadata-table"
         ng-class="{'metadata-invalid' : authForm.$invalid ||  authCtrl.credValid === false}">
      <div class="table-row">
        <div class="metadata-label">Email</div>
        <div class="metadata-field">
          <input type="email"
                 ng-model="authCtrl.credentials.email"
                 class="input-unstyled"
                 ng-model-options="{updateOn: 'blur', getterSetter : true}"
                 required
                 name="authEmail"
                 id="inputEmail"
                 placeholder="Email address associated with your Transcriptic account">
        </div>
        <div class="metadata-spacer"></div>
      </div>
      <div class="table-row">
        <div class="metadata-label">Key</div>
        <div class="metadata-field">
          <input type="text"
                 ng-model="authCtrl.credentials.key"
                 class="input-unstyled"
                 ng-model-options="{updateOn: 'blur', getterSetter : true}"
                 required
                 name="authKey"
                 id="inputKey"
                 placeholder="Transcriptic API Key, found at Transcriptic > Manage">
        </div>
        <div class="metadata-spacer"></div>
      </div>
      <div class="table-row">
        <div class="metadata-label">Organization</div>
        <div class="metadata-field">
          <input type="text"
                 ng-model="authCtrl.credentials.organization"
                 class="input-unstyled"
                 ng-model-options="{updateOn: 'blur', getterSetter : true}"
                 required
                 name="authOrg"
                 id="inputOrg"
                 placeholder="Transcriptic account organization">
        </div>
        <div class="metadata-spacer"></div>
      </div>
    </div>
  </form>

  <div class="column-8 div-centered">

    <p class="text-sm">
      <a class="action-text"
         href="https://secure.transcriptic.com/users/edit"
         target="_blank">Help me fetch my Transcriptic credentials...</a>
    </p>

    <div style="margin: 15px 0">
      <div class="pull-right">
        <button class="btn action-button"
                ng-disabled="!authForm.$valid || !authCtrl.allowAuthSaved"
                ng-click="authCtrl.validateAuth()">Verify
        </button>
      </div>

      <input type="checkbox"
             class="pull-left"
             ng-model="authCtrl.allowAuthSaved"
             ng-init="authCtrl.allowAuthSaved = true">

      <p style="margin: 0 85px 0 25px;">
        Autodesk may use and store my Transcriptic credentials for verifying andrunning my protocol, subject to the
        <a class="action-text"
           href="http://www.autodesk.com/company/legal-notices-trademarks/privacy-statement/autodesk-privacy-statement-2015-english"
           target="_blank">Autodesk Privacy Statement</a>
      </p>
    </div>
  </div>

</div>
